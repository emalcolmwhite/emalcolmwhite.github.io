% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrartcl}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{tikz}{}{\usepackage{tikz}}
\makeatother
        \newcommand*\circled[1]{\tikz[baseline=(char.base)]{
          \node[shape=circle,draw,inner sep=1pt] (char) {{\scriptsize#1}};}}  
                  
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Customizing Plots},
  pdfauthor={Emily Malcolm-White},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Customizing Plots}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{\texttt{scales}, labels, \texttt{facet\_wrap()}}
\author{Emily Malcolm-White}
\date{}

\begin{document}
\maketitle
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[frame hidden, interior hidden, borderline west={3pt}{0pt}{shadecolor}, boxrule=0pt, sharp corners, enhanced, breakable]}{\end{tcolorbox}}\fi

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(tidyverse)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#Import the can\_lang dataset }
\NormalTok{can\_lang }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"https://raw.githubusercontent.com/ttimbers/canlang/master/inst/extdata/can\_lang.csv"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{a-starting-graph-scatterplot-of-can_lang}{%
\section{\texorpdfstring{A starting graph: scatterplot of
\texttt{can\_lang}}{A starting graph: scatterplot of can\_lang}}\label{a-starting-graph-scatterplot-of-can_lang}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(can\_lang, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x=}\NormalTok{most\_at\_home, }\AttributeTok{y=}\NormalTok{mother\_tongue)) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+} 
  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Language spoken most at home }\SpecialCharTok{\textbackslash{}n}\StringTok{ (number of Canadian residents)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ylab}\NormalTok{(}\StringTok{"Mother tongue }\SpecialCharTok{\textbackslash{}n}\StringTok{ (number of Canadian residents)"}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

Notice anything weird about this plot?

\hypertarget{axis-display-format-scales-package}{%
\section{\texorpdfstring{Axis display format: \texttt{scales}
package}{Axis display format: scales package}}\label{axis-display-format-scales-package}}

\begin{Shaded}
\begin{Highlighting}[]
 \CommentTok{\# Install the package if needed}
\FunctionTok{library}\NormalTok{(scales)}
\end{Highlighting}
\end{Shaded}

We want to customize how the continuous x and y axes look, so we need to
use the argument \texttt{labels=label\_comma()} inside a
\texttt{scale\_*\_continuous()} layer:

\hypertarget{annotated-cell-5}{%
\label{annotated-cell-5}}%
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_plot }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_continuous}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_comma}\NormalTok{()) }\SpecialCharTok{+} \CommentTok{\#\textless{}1\textgreater{} }
  \FunctionTok{scale\_y\_continuous}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_comma}\NormalTok{()) }\CommentTok{\#\textless{}2\textgreater{} }
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
numbers on the x-axis are displayed with commas (and not in scientific
notation)
\item[\circled{2}]
numbers on the y-axis are displayed with commas (and not in scientific
notation)
\end{description}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-5-1.pdf}

}

\end{figure}

\begin{tcolorbox}[enhanced jigsaw, bottomtitle=1mm, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{What other formats are available in the \texttt{scales} package?}, opacityback=0, colframe=quarto-callout-note-color-frame, opacitybacktitle=0.6, colbacktitle=quarto-callout-note-color!10!white, leftrule=.75mm, rightrule=.15mm, breakable, toprule=.15mm, bottomrule=.15mm, toptitle=1mm, arc=.35mm, coltitle=black, colback=white, left=2mm]

When passing a formatting function inside
\texttt{scale\_*\_continuous(labels\ =\ ...)} you have options!

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.2289}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.3976}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1807}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 6\tabcolsep) * \real{0.1928}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Function
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Use Case
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example Input
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Example Output
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\texttt{label\_comma()} & Formats numbers with commas & \texttt{1234567}
& \texttt{"1,234,567"} \\
\texttt{label\_dollar()} & Formats numbers as dollar currency &
\texttt{99.99} & \texttt{"\$99.99"} \\
\texttt{label\_dollar(prefix\ =\ "â‚¬")} & Formats numbers as euro
currency & \texttt{99.99} & \texttt{"99.99â‚¬"} \\
\texttt{label\_percent()} & Converts decimals to percent & \texttt{0.25}
& \texttt{"25\%"} \\
\texttt{label\_pvalue()} & Formats p-values & \texttt{0.00005} &
\texttt{"\textless{}0.0001"} \\
\end{longtable}

\end{tcolorbox}

Anything else?

\hypertarget{logarithmic-axes-transformations}{%
\subsection{Logarithmic Axes
Transformations}\label{logarithmic-axes-transformations}}

\begin{tcolorbox}[enhanced jigsaw, bottomtitle=1mm, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Applying a Log Transformation}, opacityback=0, colframe=quarto-callout-note-color-frame, opacitybacktitle=0.6, colbacktitle=quarto-callout-note-color!10!white, leftrule=.75mm, rightrule=.15mm, breakable, toprule=.15mm, bottomrule=.15mm, toptitle=1mm, arc=.35mm, coltitle=black, colback=white, left=2mm]

When you apply a log transformation to an axis (or both axes) in a plot,
you convert values using a logarithmic scale instead of a linear scale.
This means:

\begin{itemize}
\tightlist
\item
  Instead of evenly spaced values (1, 2, 3, 4, \ldots), a logarithmic
  scale spaces values exponentially (1, 10, 100, 1000, \ldots).
\item
  The distance between ticks represents a multiplicative factor instead
  of an additive one.
\end{itemize}

\includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-6-1.pdf}

See how much more clearly we can see all the points!

\end{tcolorbox}

For you to do this yourself, you need to use \texttt{scale\_*\_log10()}
instead of \texttt{scale\_*\_continuous()}:

\hypertarget{annotated-cell-6}{%
\label{annotated-cell-6}}%
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_plot }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_log10}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_comma}\NormalTok{()) }\SpecialCharTok{+} \CommentTok{\#\textless{}1\textgreater{} }
  \FunctionTok{scale\_y\_log10}\NormalTok{(}\AttributeTok{labels =} \FunctionTok{label\_comma}\NormalTok{()) }\CommentTok{\#\textless{}2\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
converts x-axis to a log-scale
\item[\circled{2}]
converts y-axis to a log-scale
\end{description}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-7-1.pdf}

}

\end{figure}

\begin{tcolorbox}[enhanced jigsaw, bottomtitle=1mm, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Use âœ… \texttt{scale\_*\_log10()} instead of ðŸš«\texttt{log(variable)}}, opacityback=0, colframe=quarto-callout-tip-color-frame, opacitybacktitle=0.6, colbacktitle=quarto-callout-tip-color!10!white, leftrule=.75mm, rightrule=.15mm, breakable, toprule=.15mm, bottomrule=.15mm, toptitle=1mm, arc=.35mm, coltitle=black, colback=white, left=2mm]

\includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-8-1.pdf}

\end{tcolorbox}

\hypertarget{using-percents-on-a-log-scale}{%
\subsection{Using percents on a log
scale}\label{using-percents-on-a-log-scale}}

\hypertarget{mutate-to-create-new-columns-with-percentage-of-canadians-who-speak-the-language-as-their-mother-tongue}{%
\subsubsection{\texorpdfstring{\texttt{mutate} to create new columns
with percentage of Canadians who speak the language as their mother
tongue:}{mutate to create new columns with percentage of Canadians who speak the language as their mother tongue:}}\label{mutate-to-create-new-columns-with-percentage-of-canadians-who-speak-the-language-as-their-mother-tongue}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang }\OtherTok{\textless{}{-}}\NormalTok{ can\_lang }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{mutate}\NormalTok{(}
    \AttributeTok{mother\_tongue\_percent =}\NormalTok{ (mother\_tongue }\SpecialCharTok{/} \DecValTok{35151728}\NormalTok{) }\SpecialCharTok{*} \DecValTok{100}\NormalTok{,}
    \AttributeTok{most\_at\_home\_percent =}\NormalTok{ (most\_at\_home }\SpecialCharTok{/} \DecValTok{35151728}\NormalTok{) }\SpecialCharTok{*} \DecValTok{100}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\hypertarget{scatterplot-with-percents-and-colors}{%
\subsubsection{Scatterplot with Percents and
Colors}\label{scatterplot-with-percents-and-colors}}

Create a scatterplot with \texttt{most\_at\_home\_percent} and
\texttt{mother\_tongue\_percent}. Vary the color and shape of the points
depending on the category of language. You may need to adjust the
position of the legend:

\hypertarget{annotated-cell-8}{%
\label{annotated-cell-8}}%
\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_percent\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(can\_lang, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ most\_at\_home\_percent, }\CommentTok{\#\textless{}1\textgreater{} }
                     \AttributeTok{y =}\NormalTok{ mother\_tongue\_percent )) }\SpecialCharTok{+}  \CommentTok{\#\textless{}2\textgreater{} }
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ category, }\AttributeTok{shape=}\NormalTok{category), }\AttributeTok{alpha=}\FloatTok{0.5}\NormalTok{) }\SpecialCharTok{+} \CommentTok{\#\textless{}3\textgreater{}}
  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Language spoken most at home }\SpecialCharTok{\textbackslash{}n}\StringTok{ (percentage of Canadian residents)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ylab}\NormalTok{(}\StringTok{"Mother tongue }\SpecialCharTok{\textbackslash{}n}\StringTok{ (percentage of Canadian residents)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{legend.position =} \StringTok{"top"}\NormalTok{, }\AttributeTok{legend.direction =} \StringTok{"vertical"}\NormalTok{) }\SpecialCharTok{+} \CommentTok{\#\textless{}4\textgreater{}}
  \FunctionTok{scale\_x\_log10}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ comma) }\SpecialCharTok{+}
  \FunctionTok{scale\_y\_log10}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ comma)}

\NormalTok{can\_lang\_percent\_plot }
\end{Highlighting}
\end{Shaded}

\begin{description}
\tightlist
\item[\circled{1}]
Use \texttt{most\_at\_home\_percent} as the x-axis
\item[\circled{2}]
Use \texttt{mother\_tongue\_percent} as as the y-axis
\item[\circled{3}]
vary the shape and the color based on the category of language. Note
this is included in the aesthetics of the points. It also would have
been okay to put these directly inside the global aesthetics
(\texttt{ggplot(aes(...))}) so that these characteristics apply to any
layers.\\
\item[\circled{4}]
Adjusts the position of the legend
\end{description}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-10-1.pdf}

}

\end{figure}

\hypertarget{labels}{%
\section{Labels}\label{labels}}

Adding text to a plot is one of the most common forms of annotation.
Most plots will not benefit from adding text to every single observation
on the plot, but labeling outliers and other important points is very
useful.

A add label for each language in this dataset using
\texttt{geom\_text(aes(label\ =\ language))}:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_percent\_plot  }\SpecialCharTok{+} 
  \FunctionTok{geom\_text}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{label=}\NormalTok{language), }
              \AttributeTok{nudge\_x =} \FloatTok{0.25}\NormalTok{, }
              \AttributeTok{nudge\_y=}\FloatTok{0.25}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-11-1.pdf}

}

\end{figure}

Yikes! This is way too much going on in one plot. A few options to try
when this happens:

\begin{itemize}
\tightlist
\item
  Decrease the font size of the labels (using the \texttt{size=}
  argument inside \texttt{geom\_text}).
\item
  Use the \texttt{ggrepel} package to spread out the labels a bit more
\item
  Pick out only a subset of the points to label
\end{itemize}

\hypertarget{using-ggrepel}{%
\subsection{\texorpdfstring{Using
\texttt{ggrepel}}{Using ggrepel}}\label{using-ggrepel}}

\begin{figure}

{\centering \includegraphics[width=0.5\textwidth,height=\textheight]{118_F_ggplot_3_files/mediabag/874dedf0-55d1-4cdd-a.png}

}

\caption{Artwork by @allisonhorst}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ggrepel)}

\NormalTok{can\_lang\_percent\_plot }\SpecialCharTok{+} 
  \FunctionTok{geom\_text\_repel}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{label=}\NormalTok{language), }\AttributeTok{max.overlaps =} \ConstantTok{Inf}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-12-1.pdf}

}

\end{figure}

\hypertarget{subset-the-labels}{%
\subsection{Subset the labels}\label{subset-the-labels}}

Create a new column for the labels. Use \texttt{case\_when} (or
\texttt{ifelse}) to only use the official language names and not to put
a label for other language categories.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang }\OtherTok{\textless{}{-}}\NormalTok{ can\_lang }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{official\_languages =} \FunctionTok{case\_when}\NormalTok{(category }\SpecialCharTok{==} \StringTok{"Official languages"} \SpecialCharTok{\textasciitilde{}}\NormalTok{ language, }\ConstantTok{TRUE} \SpecialCharTok{\textasciitilde{}} \ConstantTok{NA}\NormalTok{ ))}
\end{Highlighting}
\end{Shaded}

\hypertarget{annotated-cell-12}{%
\label{annotated-cell-12}}%
\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# We need to redo the base plot with the new can\_lang dataset with the new official\_languages column in it }
\NormalTok{can\_lang\_percent\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(can\_lang, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ most\_at\_home\_percent,  }\AttributeTok{y =}\NormalTok{ mother\_tongue\_percent)) }\SpecialCharTok{+} \CommentTok{\#\textless{}2\textgreater{} }
  \FunctionTok{geom\_point}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{color =}\NormalTok{ category, }\AttributeTok{shape=}\NormalTok{category)) }\SpecialCharTok{+}
  \FunctionTok{xlab}\NormalTok{(}\StringTok{"Language spoken most at home }\SpecialCharTok{\textbackslash{}n}\StringTok{ (percentage of Canadian residents)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{ylab}\NormalTok{(}\StringTok{"Mother tongue }\SpecialCharTok{\textbackslash{}n}\StringTok{ (percentage of Canadian residents)"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{legend.position =} \StringTok{"top"}\NormalTok{, }\AttributeTok{legend.direction =} \StringTok{"vertical"}\NormalTok{) }\SpecialCharTok{+} 
  \FunctionTok{scale\_x\_log10}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ comma) }\SpecialCharTok{+}
  \FunctionTok{scale\_y\_log10}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ comma)}


\NormalTok{can\_lang\_percent\_plot }\SpecialCharTok{+} 
  \FunctionTok{geom\_text\_repel}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{label=}\NormalTok{official\_languages, }\AttributeTok{min.segment.length=}\DecValTok{0}\NormalTok{, }\AttributeTok{box.padding=}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-14-1.pdf}

}

\end{figure}

\hypertarget{facet-wrap}{%
\section{Facet Wrap}\label{facet-wrap}}

\texttt{facet\_wrap()} is a function in the \texttt{ggplot2} package
that allows you to create a multi-panel plot showing a similar plot over
different subsets of the data, usually different values of a categorical
variable.

Create separate side-by-side plots for each different category of
language.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{can\_lang\_percent\_plot }\SpecialCharTok{+} 
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{category)  }
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{118_F_ggplot_3_files/figure-pdf/unnamed-chunk-15-1.pdf}

}

\end{figure}



\end{document}
