{
  "hash": "50023803813421c77fe5b81f8e69b2b8",
  "result": {
    "markdown": "---\ntitle: 'Webscraping Text'\nauthor: 'Emily Malcolm-White'\ninstitute: 'Middlebury College'\nformat:\n  html: \n    toc: TRUE\n    code-overflow: wrap\n    embed-resources: true\n    code-tools:\n      source: true\n      toggle: false\n      caption: none\n    code-annotations: hover\n  pdf: default\nexecute: \n  message: FALSE\n  warning: FALSE\n---\n\n\n![](https://rvest.tidyverse.org/logo.png){width=30%}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#LOAD PACKAGES \nlibrary(tidyverse)\nlibrary(rvest)\n```\n:::\n\n\n# Webscraping Text\n\nLet's look at the [Science Books on Good Reads](https://www.goodreads.com/shelf/show/science)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nURL <- read_html(\"https://www.goodreads.com/shelf/show/science\")\n```\n:::\n\n\n\nNotice that the data for all these books isn't housed inside a `<table>` element! \n\n## Titles\n\nFor example, check out the lines of html code for the book \"Sapians\": \n\n```{}\n<div class=\"elementList\" style=\"padding-top: 10px;\">\n<div class=\"left\" style=\"width: 75%;\">\n<a title=\"Sapiens: A Brief History of Humankind\" class=\"leftAlignedImage\" href=\"/book/show/23692271-sapiens\"><img alt=\"Sapiens: A Brief History of Humankind\" src=\"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1703329310l/23692271._SY75_.jpg\" /></a>\n<a class=\"bookTitle\" href=\"/book/show/23692271-sapiens\">Sapiens: A Brief History of Humankind (Paperback)</a>\n<br />\n<span class='by'>by</span>\n<span itemprop='author' itemscope='' itemtype='http://schema.org/Person'>\n<div class='authorName__container'>\n<a class=\"authorName\" itemprop=\"url\" href=\"https://www.goodreads.com/author/show/395812.Yuval_Noah_Harari\"><span itemprop=\"name\">Yuval Noah Harari</span></a>\n</div>\n</span>\n(shelved 6592 times as <em>science</em>)\n<br />\n<span class=\"greyText smallText\">\navg rating 4.35 —\n1,168,542 ratings  —\npublished 2011\n</span>\n</div>\n```\n\n## Titles\n\nIn this case, we want to look for the class `bookTitle` using `html_elements(\".bookTitle\")`\n\n:::callout-tip\nIn this case, we want ALL titles so we used `html_elements()`. If we had only wanted the first title we would have used `html_element()`\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntitles <- URL %>%\n  html_elements(\".bookTitle\") %>%\n  html_text()\n\ntitles\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"A Short History of Nearly Everything (Paperback)\"                                                                                               \n [2] \"The Selfish Gene (Paperback)\"                                                                                                                   \n [3] \"Astrophysics for People in a Hurry (Hardcover)\"                                                                                                 \n [4] \"Sapiens: A Brief History of Humankind (Paperback)\"                                                                                              \n [5] \"Cosmos (Mass Market Paperback)\"                                                                                                                 \n [6] \"The Immortal Life of Henrietta Lacks (Hardcover)\"                                                                                               \n [7] \"What If?: Serious Scientific Answers to Absurd Hypothetical Questions (Hardcover)\"                                                              \n [8] \"The Origin of Species (Hardcover)\"                                                                                                              \n [9] \"The Elegant Universe: Superstrings, Hidden Dimensions, and the Quest for the Ultimate Theory (Paperback)\"                                       \n[10] \"The Demon-Haunted World: Science as a Candle in the Dark (Paperback)\"                                                                           \n[11] \"Stiff: The Curious Lives of Human Cadavers (Paperback)\"                                                                                         \n[12] \"\\\"Surely You're Joking, Mr. Feynman!\\\": Adventures of a Curious Character (Paperback)\"                                                          \n[13] \"Why We Sleep: Unlocking the Power of Sleep and Dreams (Hardcover)\"                                                                              \n[14] \"The Gene: An Intimate History (Hardcover)\"                                                                                                      \n[15] \"The Emperor of All Maladies: A Biography of Cancer (Hardcover)\"                                                                                 \n[16] \"The Sixth Extinction: An Unnatural History (Hardcover)\"                                                                                         \n[17] \"The Disappearing Spoon: And Other True Tales of Madness, Love, and the History of the World from the Periodic Table of the Elements (Hardcover)\"\n[18] \"The Man Who Mistook His Wife for a Hat and Other Clinical Tales (Paperback)\"                                                                    \n[19] \"Guns, Germs, and Steel: The Fates of Human Societies (Paperback)\"                                                                               \n[20] \"The Grand Design (Hardcover)\"                                                                                                                   \n[21] \"The Greatest Show on Earth: The Evidence for Evolution (Hardcover)\"                                                                             \n[22] \"Seven Brief Lessons on Physics (Hardcover)\"                                                                                                     \n[23] \"The Fabric of the Cosmos: Space, Time, and the Texture of Reality (Paperback)\"                                                                  \n[24] \"Homo Deus: A History of Tomorrow (ebook)\"                                                                                                       \n[25] \"Brief Answers to the Big Questions (Hardcover)\"                                                                                                 \n[26] \"The God Delusion (Hardcover)\"                                                                                                                   \n[27] \"The Structure of Scientific Revolutions (Paperback)\"                                                                                            \n[28] \"I Contain Multitudes: The Microbes Within Us and a Grander View of Life (Hardcover)\"                                                            \n[29] \"The Body: A Guide for Occupants (Hardcover)\"                                                                                                    \n[30] \"Chaos: Making a New Science (Paperback)\"                                                                                                        \n[31] \"Packing for Mars: The Curious Science of Life in the Void (Paperback)\"                                                                          \n[32] \"Gödel, Escher, Bach: An Eternal Golden Braid (Paperback)\"                                                                                       \n[33] \"Pale Blue Dot: A Vision of the Human Future in Space (Paperback)\"                                                                               \n[34] \"The Universe in a Nutshell (Hardcover)\"                                                                                                         \n[35] \"The Blind Watchmaker: Why the Evidence of Evolution Reveals a Universe Without Design (Paperback)\"                                              \n[36] \"The Hidden Life of Trees: What They Feel, How They Communicate: Discoveries from a Secret World (Hardcover)\"                                    \n[37] \"Behave: The Biology of Humans at Our Best and Worst (Hardcover)\"                                                                                \n[38] \"Bad Science (Paperback)\"                                                                                                                        \n[39] \"Physics of the Impossible (Hardcover)\"                                                                                                          \n[40] \"The Rise and Fall of the Dinosaurs: A New History of a Lost World (Hardcover)\"                                                                  \n[41] \"Entangled Life: How Fungi Make Our Worlds, Change Our Minds & Shape Our Futures (Hardcover)\"                                                    \n[42] \"Death by Black Hole: And Other Cosmic Quandaries (Paperback)\"                                                                                   \n[43] \"Genome: The Autobiography of a Species in 23 Chapters (Paperback)\"                                                                              \n[44] \"The Order of Time (Hardcover)\"                                                                                                                  \n[45] \"Six Easy Pieces: Essentials of Physics Explained by Its Most Brilliant Teacher (Paperback)\"                                                     \n[46] \"A Universe from Nothing: Why There Is Something Rather Than Nothing (Hardcover)\"                                                                \n[47] \"Your Inner Fish: a Journey into the 3.5-Billion-Year History of the Human Body (Hardcover)\"                                                     \n[48] \"The Hot Zone: The Terrifying True Story of the Origins of the Ebola Virus (Paperback)\"                                                          \n[49] \"Bonk: The Curious Coupling of Science and Sex (Paperback)\"                                                                                      \n[50] \"Longitude: The True Story of a Lone Genius Who Solved the Greatest Scientific Problem of His Time (Hardcover)\"                                  \n```\n:::\n:::\n\n\n## Authors\n\nIn this case, we want to look for the class `authorName` using `html_elements(\".authorName\")`\n\n:::callout-tip\nIn this case, we want ALL titles so we used `html_elements()`. If we had only wanted the first title we would have used `html_element()`\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nauthors <- URL %>%\n  html_elements(\".authorName\") %>%\n  html_text()\n\nauthors\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Bill Bryson\"           \"Richard Dawkins\"       \"Neil deGrasse Tyson\"  \n [4] \"Yuval Noah Harari\"     \"Carl Sagan\"            \"Rebecca Skloot\"       \n [7] \"Randall Munroe\"        \"Charles Darwin\"        \"Brian Greene\"         \n[10] \"Carl Sagan\"            \"Mary Roach\"            \"Richard P. Feynman\"   \n[13] \"(Contibutor)\"          \"Matthew Walker\"        \"Siddhartha Mukherjee\" \n[16] \"Siddhartha Mukherjee\"  \"Elizabeth Kolbert\"     \"Sam Kean\"             \n[19] \"Oliver Sacks\"          \"Jared Diamond\"         \"Stephen Hawking\"      \n[22] \"Richard Dawkins\"       \"Carlo Rovelli\"         \"Brian Greene\"         \n[25] \"Yuval Noah Harari\"     \"Stephen Hawking\"       \"Richard Dawkins\"      \n[28] \"Thomas S. Kuhn\"        \"Ed Yong\"               \"Bill Bryson\"          \n[31] \"James Gleick\"          \"Mary Roach\"            \"Douglas R. Hofstadter\"\n[34] \"Carl Sagan\"            \"Stephen Hawking\"       \"Richard Dawkins\"      \n[37] \"Peter Wohlleben\"       \"Robert M. Sapolsky\"    \"Ben Goldacre\"         \n[40] \"Michio Kaku\"           \"Steve Brusatte\"        \"Merlin Sheldrake\"     \n[43] \"Neil deGrasse Tyson\"   \"Matt Ridley\"           \"Carlo Rovelli\"        \n[46] \"Richard P. Feynman\"    \"Lawrence M. Krauss\"    \"Neil Shubin\"          \n[49] \"Richard   Preston\"     \"Mary Roach\"            \"Dava Sobel\"           \n```\n:::\n:::\n\n\n## Other Info\n\n\n```{}\n<span class=\"greyText smallText\">\navg rating 4.35 —\n1,168,542 ratings  —\npublished 2011\n</span>\n```\n\nIn this case, we need to reference the class `greyText` \n\n\n::: {.cell}\n\n```{.r .cell-code}\ninfo <- URL %>%\n  html_elements(\".greyText\") %>%\n  html_text()\n\ninfo\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  [1] \"\\n                  avg rating 4.22 —\\n                  407,535 ratings  —\\n                  published 2003\\n                \"  \n  [2] \"Rate this book\"                                                                                                                   \n  [3] \"(Goodreads Author)\"                                                                                                               \n  [4] \"\\n                  avg rating 4.16 —\\n                  187,031 ratings  —\\n                  published 1976\\n                \"  \n  [5] \"Rate this book\"                                                                                                                   \n  [6] \"(Goodreads Author)\"                                                                                                               \n  [7] \"\\n                  avg rating 4.08 —\\n                  195,986 ratings  —\\n                  published 2017\\n                \"  \n  [8] \"Rate this book\"                                                                                                                   \n  [9] \"\\n                  avg rating 4.35 —\\n                  1,168,557 ratings  —\\n                  published 2011\\n                \"\n [10] \"Rate this book\"                                                                                                                   \n [11] \"\\n                  avg rating 4.40 —\\n                  153,771 ratings  —\\n                  published 1980\\n                \"  \n [12] \"Rate this book\"                                                                                                                   \n [13] \"(Goodreads Author)\"                                                                                                               \n [14] \"\\n                  avg rating 4.13 —\\n                  775,348 ratings  —\\n                  published 2010\\n                \"  \n [15] \"Rate this book\"                                                                                                                   \n [16] \"(Goodreads Author)\"                                                                                                               \n [17] \"\\n                  avg rating 4.14 —\\n                  188,324 ratings  —\\n                  published 2014\\n                \"  \n [18] \"Rate this book\"                                                                                                                   \n [19] \"\\n                  avg rating 4.01 —\\n                  119,116 ratings  —\\n                  published 1859\\n                \"  \n [20] \"Rate this book\"                                                                                                                   \n [21] \"\\n                  avg rating 4.10 —\\n                  100,287 ratings  —\\n                  published 1999\\n                \"  \n [22] \"Rate this book\"                                                                                                                   \n [23] \"\\n                  avg rating 4.29 —\\n                  77,237 ratings  —\\n                  published 1995\\n                \"   \n [24] \"Rate this book\"                                                                                                                   \n [25] \"\\n                  avg rating 4.06 —\\n                  231,078 ratings  —\\n                  published 2003\\n                \"  \n [26] \"Rate this book\"                                                                                                                   \n [27] \"(Contibutor)\"                                                                                                                     \n [28] \"\\n                  avg rating 4.27 —\\n                  210,509 ratings  —\\n                  published 1985\\n                \"  \n [29] \"Rate this book\"                                                                                                                   \n [30] \"\\n                  avg rating 4.38 —\\n                  210,037 ratings  —\\n                  published 2017\\n                \"  \n [31] \"Rate this book\"                                                                                                                   \n [32] \"\\n                  avg rating 4.36 —\\n                  52,981 ratings  —\\n                  published 2016\\n                \"   \n [33] \"Rate this book\"                                                                                                                   \n [34] \"\\n                  avg rating 4.34 —\\n                  109,260 ratings  —\\n                  published 2010\\n                \"  \n [35] \"Rate this book\"                                                                                                                   \n [36] \"(Goodreads Author)\"                                                                                                               \n [37] \"\\n                  avg rating 4.16 —\\n                  76,010 ratings  —\\n                  published 2014\\n                \"   \n [38] \"Rate this book\"                                                                                                                   \n [39] \"\\n                  avg rating 3.93 —\\n                  54,009 ratings  —\\n                  published 2010\\n                \"   \n [40] \"Rate this book\"                                                                                                                   \n [41] \"\\n                  avg rating 4.05 —\\n                  236,212 ratings  —\\n                  published 1985\\n                \"  \n [42] \"Rate this book\"                                                                                                                   \n [43] \"\\n                  avg rating 4.04 —\\n                  438,255 ratings  —\\n                  published 1997\\n                \"  \n [44] \"Rate this book\"                                                                                                                   \n [45] \"\\n                  avg rating 4.06 —\\n                  75,945 ratings  —\\n                  published 2010\\n                \"   \n [46] \"Rate this book\"                                                                                                                   \n [47] \"(Goodreads Author)\"                                                                                                               \n [48] \"\\n                  avg rating 4.16 —\\n                  55,086 ratings  —\\n                  published 2009\\n                \"   \n [49] \"Rate this book\"                                                                                                                   \n [50] \"\\n                  avg rating 3.99 —\\n                  63,098 ratings  —\\n                  published 2014\\n                \"   \n [51] \"Rate this book\"                                                                                                                   \n [52] \"\\n                  avg rating 4.13 —\\n                  39,676 ratings  —\\n                  published 2004\\n                \"   \n [53] \"Rate this book\"                                                                                                                   \n [54] \"\\n                  avg rating 4.19 —\\n                  273,715 ratings  —\\n                  published 2015\\n                \"  \n [55] \"Rate this book\"                                                                                                                   \n [56] \"\\n                  avg rating 4.27 —\\n                  82,164 ratings  —\\n                  published 2018\\n                \"   \n [57] \"Rate this book\"                                                                                                                   \n [58] \"(Goodreads Author)\"                                                                                                               \n [59] \"\\n                  avg rating 3.90 —\\n                  277,060 ratings  —\\n                  published 2006\\n                \"  \n [60] \"Rate this book\"                                                                                                                   \n [61] \"\\n                  avg rating 4.03 —\\n                  28,670 ratings  —\\n                  published 1962\\n                \"   \n [62] \"Rate this book\"                                                                                                                   \n [63] \"\\n                  avg rating 4.18 —\\n                  29,489 ratings  —\\n                  published 2016\\n                \"   \n [64] \"Rate this book\"                                                                                                                   \n [65] \"\\n                  avg rating 4.32 —\\n                  92,736 ratings  —\\n                  published 2019\\n                \"   \n [66] \"Rate this book\"                                                                                                                   \n [67] \"(Goodreads Author)\"                                                                                                               \n [68] \"\\n                  avg rating 4.04 —\\n                  39,810 ratings  —\\n                  published 1987\\n                \"   \n [69] \"Rate this book\"                                                                                                                   \n [70] \"\\n                  avg rating 3.95 —\\n                  59,009 ratings  —\\n                  published 2010\\n                \"   \n [71] \"Rate this book\"                                                                                                                   \n [72] \"\\n                  avg rating 4.29 —\\n                  51,144 ratings  —\\n                  published 1979\\n                \"   \n [73] \"Rate this book\"                                                                                                                   \n [74] \"\\n                  avg rating 4.34 —\\n                  38,264 ratings  —\\n                  published 1994\\n                \"   \n [75] \"Rate this book\"                                                                                                                   \n [76] \"\\n                  avg rating 4.19 —\\n                  44,261 ratings  —\\n                  published 2001\\n                \"   \n [77] \"Rate this book\"                                                                                                                   \n [78] \"(Goodreads Author)\"                                                                                                               \n [79] \"\\n                  avg rating 4.09 —\\n                  40,760 ratings  —\\n                  published 1986\\n                \"   \n [80] \"Rate this book\"                                                                                                                   \n [81] \"\\n                  avg rating 4.07 —\\n                  82,665 ratings  —\\n                  published 2015\\n                \"   \n [82] \"Rate this book\"                                                                                                                   \n [83] \"\\n                  avg rating 4.40 —\\n                  28,168 ratings  —\\n                  published 2017\\n                \"   \n [84] \"Rate this book\"                                                                                                                   \n [85] \"\\n                  avg rating 4.06 —\\n                  44,114 ratings  —\\n                  published 2008\\n                \"   \n [86] \"Rate this book\"                                                                                                                   \n [87] \"\\n                  avg rating 4.10 —\\n                  40,702 ratings  —\\n                  published 2008\\n                \"   \n [88] \"Rate this book\"                                                                                                                   \n [89] \"\\n                  avg rating 4.21 —\\n                  36,920 ratings  —\\n                  published 2018\\n                \"   \n [90] \"Rate this book\"                                                                                                                   \n [91] \"(Goodreads Author)\"                                                                                                               \n [92] \"\\n                  avg rating 4.34 —\\n                  44,913 ratings  —\\n                  published 2020\\n                \"   \n [93] \"Rate this book\"                                                                                                                   \n [94] \"(Goodreads Author)\"                                                                                                               \n [95] \"\\n                  avg rating 4.10 —\\n                  31,649 ratings  —\\n                  published 2006\\n                \"   \n [96] \"Rate this book\"                                                                                                                   \n [97] \"\\n                  avg rating 4.06 —\\n                  27,448 ratings  —\\n                  published 1999\\n                \"   \n [98] \"Rate this book\"                                                                                                                   \n [99] \"\\n                  avg rating 4.13 —\\n                  35,548 ratings  —\\n                  published 2017\\n                \"   \n[100] \"Rate this book\"                                                                                                                   \n[101] \"\\n                  avg rating 4.21 —\\n                  29,605 ratings  —\\n                  published 1994\\n                \"   \n[102] \"Rate this book\"                                                                                                                   \n[103] \"\\n                  avg rating 3.94 —\\n                  30,103 ratings  —\\n                  published 2012\\n                \"   \n[104] \"Rate this book\"                                                                                                                   \n[105] \"(Goodreads Author)\"                                                                                                               \n[106] \"\\n                  avg rating 4.04 —\\n                  27,664 ratings  —\\n                  published 2008\\n                \"   \n[107] \"Rate this book\"                                                                                                                   \n[108] \"\\n                  avg rating 4.16 —\\n                  118,332 ratings  —\\n                  published 1994\\n                \"  \n[109] \"Rate this book\"                                                                                                                   \n[110] \"\\n                  avg rating 3.85 —\\n                  59,273 ratings  —\\n                  published 2008\\n                \"   \n[111] \"Rate this book\"                                                                                                                   \n[112] \"\\n                  avg rating 3.99 —\\n                  74,237 ratings  —\\n                  published 1995\\n                \"   \n[113] \"Rate this book\"                                                                                                                   \n```\n:::\n:::\n\n\n## Putting it all together\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(titles)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 50\n```\n:::\n\n```{.r .cell-code}\nlength(authors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 51\n```\n:::\n\n```{.r .cell-code}\nlength(info)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 113\n```\n:::\n:::\n\n\nOops! They aren't all the same length, so we can't put them in the same dataset. There should be 50 books! We need to look at this by hand... \n\nThe 13th element of `authors` just says \"(Contributers)\". Let's remove that. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nauthors <- authors[-13]\n```\n:::\n\n\n\nOur `info` vector has some excessive info (ie. `info[58] = (GoodReads Author)`)\n\nSometimes webscraping requires some manual massaging. We could try using the full `class = \"greyText smallText` but using multiple classes `html_elements(\".greyText.smallText\")`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninfo <- URL %>%\n  html_elements(\".greyText.smallText\") %>%\n  html_text()\n\ninfo\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"\\n                  avg rating 4.22 —\\n                  407,535 ratings  —\\n                  published 2003\\n                \"  \n [2] \"\\n                  avg rating 4.16 —\\n                  187,031 ratings  —\\n                  published 1976\\n                \"  \n [3] \"\\n                  avg rating 4.08 —\\n                  195,986 ratings  —\\n                  published 2017\\n                \"  \n [4] \"\\n                  avg rating 4.35 —\\n                  1,168,557 ratings  —\\n                  published 2011\\n                \"\n [5] \"\\n                  avg rating 4.40 —\\n                  153,771 ratings  —\\n                  published 1980\\n                \"  \n [6] \"\\n                  avg rating 4.13 —\\n                  775,348 ratings  —\\n                  published 2010\\n                \"  \n [7] \"\\n                  avg rating 4.14 —\\n                  188,324 ratings  —\\n                  published 2014\\n                \"  \n [8] \"\\n                  avg rating 4.01 —\\n                  119,116 ratings  —\\n                  published 1859\\n                \"  \n [9] \"\\n                  avg rating 4.10 —\\n                  100,287 ratings  —\\n                  published 1999\\n                \"  \n[10] \"\\n                  avg rating 4.29 —\\n                  77,237 ratings  —\\n                  published 1995\\n                \"   \n[11] \"\\n                  avg rating 4.06 —\\n                  231,078 ratings  —\\n                  published 2003\\n                \"  \n[12] \"(Contibutor)\"                                                                                                                     \n[13] \"\\n                  avg rating 4.27 —\\n                  210,509 ratings  —\\n                  published 1985\\n                \"  \n[14] \"\\n                  avg rating 4.38 —\\n                  210,037 ratings  —\\n                  published 2017\\n                \"  \n[15] \"\\n                  avg rating 4.36 —\\n                  52,981 ratings  —\\n                  published 2016\\n                \"   \n[16] \"\\n                  avg rating 4.34 —\\n                  109,260 ratings  —\\n                  published 2010\\n                \"  \n[17] \"\\n                  avg rating 4.16 —\\n                  76,010 ratings  —\\n                  published 2014\\n                \"   \n[18] \"\\n                  avg rating 3.93 —\\n                  54,009 ratings  —\\n                  published 2010\\n                \"   \n[19] \"\\n                  avg rating 4.05 —\\n                  236,212 ratings  —\\n                  published 1985\\n                \"  \n[20] \"\\n                  avg rating 4.04 —\\n                  438,255 ratings  —\\n                  published 1997\\n                \"  \n[21] \"\\n                  avg rating 4.06 —\\n                  75,945 ratings  —\\n                  published 2010\\n                \"   \n[22] \"\\n                  avg rating 4.16 —\\n                  55,086 ratings  —\\n                  published 2009\\n                \"   \n[23] \"\\n                  avg rating 3.99 —\\n                  63,098 ratings  —\\n                  published 2014\\n                \"   \n[24] \"\\n                  avg rating 4.13 —\\n                  39,676 ratings  —\\n                  published 2004\\n                \"   \n[25] \"\\n                  avg rating 4.19 —\\n                  273,715 ratings  —\\n                  published 2015\\n                \"  \n[26] \"\\n                  avg rating 4.27 —\\n                  82,164 ratings  —\\n                  published 2018\\n                \"   \n[27] \"\\n                  avg rating 3.90 —\\n                  277,060 ratings  —\\n                  published 2006\\n                \"  \n[28] \"\\n                  avg rating 4.03 —\\n                  28,670 ratings  —\\n                  published 1962\\n                \"   \n[29] \"\\n                  avg rating 4.18 —\\n                  29,489 ratings  —\\n                  published 2016\\n                \"   \n[30] \"\\n                  avg rating 4.32 —\\n                  92,736 ratings  —\\n                  published 2019\\n                \"   \n[31] \"\\n                  avg rating 4.04 —\\n                  39,810 ratings  —\\n                  published 1987\\n                \"   \n[32] \"\\n                  avg rating 3.95 —\\n                  59,009 ratings  —\\n                  published 2010\\n                \"   \n[33] \"\\n                  avg rating 4.29 —\\n                  51,144 ratings  —\\n                  published 1979\\n                \"   \n[34] \"\\n                  avg rating 4.34 —\\n                  38,264 ratings  —\\n                  published 1994\\n                \"   \n[35] \"\\n                  avg rating 4.19 —\\n                  44,261 ratings  —\\n                  published 2001\\n                \"   \n[36] \"\\n                  avg rating 4.09 —\\n                  40,760 ratings  —\\n                  published 1986\\n                \"   \n[37] \"\\n                  avg rating 4.07 —\\n                  82,665 ratings  —\\n                  published 2015\\n                \"   \n[38] \"\\n                  avg rating 4.40 —\\n                  28,168 ratings  —\\n                  published 2017\\n                \"   \n[39] \"\\n                  avg rating 4.06 —\\n                  44,114 ratings  —\\n                  published 2008\\n                \"   \n[40] \"\\n                  avg rating 4.10 —\\n                  40,702 ratings  —\\n                  published 2008\\n                \"   \n[41] \"\\n                  avg rating 4.21 —\\n                  36,920 ratings  —\\n                  published 2018\\n                \"   \n[42] \"\\n                  avg rating 4.34 —\\n                  44,913 ratings  —\\n                  published 2020\\n                \"   \n[43] \"\\n                  avg rating 4.10 —\\n                  31,649 ratings  —\\n                  published 2006\\n                \"   \n[44] \"\\n                  avg rating 4.06 —\\n                  27,448 ratings  —\\n                  published 1999\\n                \"   \n[45] \"\\n                  avg rating 4.13 —\\n                  35,548 ratings  —\\n                  published 2017\\n                \"   \n[46] \"\\n                  avg rating 4.21 —\\n                  29,605 ratings  —\\n                  published 1994\\n                \"   \n[47] \"\\n                  avg rating 3.94 —\\n                  30,103 ratings  —\\n                  published 2012\\n                \"   \n[48] \"\\n                  avg rating 4.04 —\\n                  27,664 ratings  —\\n                  published 2008\\n                \"   \n[49] \"\\n                  avg rating 4.16 —\\n                  118,332 ratings  —\\n                  published 1994\\n                \"  \n[50] \"\\n                  avg rating 3.85 —\\n                  59,273 ratings  —\\n                  published 2008\\n                \"   \n[51] \"\\n                  avg rating 3.99 —\\n                  74,237 ratings  —\\n                  published 1995\\n                \"   \n```\n:::\n\n```{.r .cell-code}\ninfo <- info[-12]\ninfo\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"\\n                  avg rating 4.22 —\\n                  407,535 ratings  —\\n                  published 2003\\n                \"  \n [2] \"\\n                  avg rating 4.16 —\\n                  187,031 ratings  —\\n                  published 1976\\n                \"  \n [3] \"\\n                  avg rating 4.08 —\\n                  195,986 ratings  —\\n                  published 2017\\n                \"  \n [4] \"\\n                  avg rating 4.35 —\\n                  1,168,557 ratings  —\\n                  published 2011\\n                \"\n [5] \"\\n                  avg rating 4.40 —\\n                  153,771 ratings  —\\n                  published 1980\\n                \"  \n [6] \"\\n                  avg rating 4.13 —\\n                  775,348 ratings  —\\n                  published 2010\\n                \"  \n [7] \"\\n                  avg rating 4.14 —\\n                  188,324 ratings  —\\n                  published 2014\\n                \"  \n [8] \"\\n                  avg rating 4.01 —\\n                  119,116 ratings  —\\n                  published 1859\\n                \"  \n [9] \"\\n                  avg rating 4.10 —\\n                  100,287 ratings  —\\n                  published 1999\\n                \"  \n[10] \"\\n                  avg rating 4.29 —\\n                  77,237 ratings  —\\n                  published 1995\\n                \"   \n[11] \"\\n                  avg rating 4.06 —\\n                  231,078 ratings  —\\n                  published 2003\\n                \"  \n[12] \"\\n                  avg rating 4.27 —\\n                  210,509 ratings  —\\n                  published 1985\\n                \"  \n[13] \"\\n                  avg rating 4.38 —\\n                  210,037 ratings  —\\n                  published 2017\\n                \"  \n[14] \"\\n                  avg rating 4.36 —\\n                  52,981 ratings  —\\n                  published 2016\\n                \"   \n[15] \"\\n                  avg rating 4.34 —\\n                  109,260 ratings  —\\n                  published 2010\\n                \"  \n[16] \"\\n                  avg rating 4.16 —\\n                  76,010 ratings  —\\n                  published 2014\\n                \"   \n[17] \"\\n                  avg rating 3.93 —\\n                  54,009 ratings  —\\n                  published 2010\\n                \"   \n[18] \"\\n                  avg rating 4.05 —\\n                  236,212 ratings  —\\n                  published 1985\\n                \"  \n[19] \"\\n                  avg rating 4.04 —\\n                  438,255 ratings  —\\n                  published 1997\\n                \"  \n[20] \"\\n                  avg rating 4.06 —\\n                  75,945 ratings  —\\n                  published 2010\\n                \"   \n[21] \"\\n                  avg rating 4.16 —\\n                  55,086 ratings  —\\n                  published 2009\\n                \"   \n[22] \"\\n                  avg rating 3.99 —\\n                  63,098 ratings  —\\n                  published 2014\\n                \"   \n[23] \"\\n                  avg rating 4.13 —\\n                  39,676 ratings  —\\n                  published 2004\\n                \"   \n[24] \"\\n                  avg rating 4.19 —\\n                  273,715 ratings  —\\n                  published 2015\\n                \"  \n[25] \"\\n                  avg rating 4.27 —\\n                  82,164 ratings  —\\n                  published 2018\\n                \"   \n[26] \"\\n                  avg rating 3.90 —\\n                  277,060 ratings  —\\n                  published 2006\\n                \"  \n[27] \"\\n                  avg rating 4.03 —\\n                  28,670 ratings  —\\n                  published 1962\\n                \"   \n[28] \"\\n                  avg rating 4.18 —\\n                  29,489 ratings  —\\n                  published 2016\\n                \"   \n[29] \"\\n                  avg rating 4.32 —\\n                  92,736 ratings  —\\n                  published 2019\\n                \"   \n[30] \"\\n                  avg rating 4.04 —\\n                  39,810 ratings  —\\n                  published 1987\\n                \"   \n[31] \"\\n                  avg rating 3.95 —\\n                  59,009 ratings  —\\n                  published 2010\\n                \"   \n[32] \"\\n                  avg rating 4.29 —\\n                  51,144 ratings  —\\n                  published 1979\\n                \"   \n[33] \"\\n                  avg rating 4.34 —\\n                  38,264 ratings  —\\n                  published 1994\\n                \"   \n[34] \"\\n                  avg rating 4.19 —\\n                  44,261 ratings  —\\n                  published 2001\\n                \"   \n[35] \"\\n                  avg rating 4.09 —\\n                  40,760 ratings  —\\n                  published 1986\\n                \"   \n[36] \"\\n                  avg rating 4.07 —\\n                  82,665 ratings  —\\n                  published 2015\\n                \"   \n[37] \"\\n                  avg rating 4.40 —\\n                  28,168 ratings  —\\n                  published 2017\\n                \"   \n[38] \"\\n                  avg rating 4.06 —\\n                  44,114 ratings  —\\n                  published 2008\\n                \"   \n[39] \"\\n                  avg rating 4.10 —\\n                  40,702 ratings  —\\n                  published 2008\\n                \"   \n[40] \"\\n                  avg rating 4.21 —\\n                  36,920 ratings  —\\n                  published 2018\\n                \"   \n[41] \"\\n                  avg rating 4.34 —\\n                  44,913 ratings  —\\n                  published 2020\\n                \"   \n[42] \"\\n                  avg rating 4.10 —\\n                  31,649 ratings  —\\n                  published 2006\\n                \"   \n[43] \"\\n                  avg rating 4.06 —\\n                  27,448 ratings  —\\n                  published 1999\\n                \"   \n[44] \"\\n                  avg rating 4.13 —\\n                  35,548 ratings  —\\n                  published 2017\\n                \"   \n[45] \"\\n                  avg rating 4.21 —\\n                  29,605 ratings  —\\n                  published 1994\\n                \"   \n[46] \"\\n                  avg rating 3.94 —\\n                  30,103 ratings  —\\n                  published 2012\\n                \"   \n[47] \"\\n                  avg rating 4.04 —\\n                  27,664 ratings  —\\n                  published 2008\\n                \"   \n[48] \"\\n                  avg rating 4.16 —\\n                  118,332 ratings  —\\n                  published 1994\\n                \"  \n[49] \"\\n                  avg rating 3.85 —\\n                  59,273 ratings  —\\n                  published 2008\\n                \"   \n[50] \"\\n                  avg rating 3.99 —\\n                  74,237 ratings  —\\n                  published 1995\\n                \"   \n```\n:::\n:::\n\n\n# All Together Now\n\nNow they are all the same length: \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(titles)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 50\n```\n:::\n\n```{.r .cell-code}\nlength(authors)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 50\n```\n:::\n\n```{.r .cell-code}\nlength(info)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 50\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks <- data.frame(Title = titles,\n  Author = authors,\n  Info = info\n  )\nbooks\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                                                                                                             Title\n1                                                                                                 A Short History of Nearly Everything (Paperback)\n2                                                                                                                     The Selfish Gene (Paperback)\n3                                                                                                   Astrophysics for People in a Hurry (Hardcover)\n4                                                                                                Sapiens: A Brief History of Humankind (Paperback)\n5                                                                                                                   Cosmos (Mass Market Paperback)\n6                                                                                                 The Immortal Life of Henrietta Lacks (Hardcover)\n7                                                                What If?: Serious Scientific Answers to Absurd Hypothetical Questions (Hardcover)\n8                                                                                                                The Origin of Species (Hardcover)\n9                                         The Elegant Universe: Superstrings, Hidden Dimensions, and the Quest for the Ultimate Theory (Paperback)\n10                                                                            The Demon-Haunted World: Science as a Candle in the Dark (Paperback)\n11                                                                                          Stiff: The Curious Lives of Human Cadavers (Paperback)\n12                                                             \"Surely You're Joking, Mr. Feynman!\": Adventures of a Curious Character (Paperback)\n13                                                                               Why We Sleep: Unlocking the Power of Sleep and Dreams (Hardcover)\n14                                                                                                       The Gene: An Intimate History (Hardcover)\n15                                                                                  The Emperor of All Maladies: A Biography of Cancer (Hardcover)\n16                                                                                          The Sixth Extinction: An Unnatural History (Hardcover)\n17 The Disappearing Spoon: And Other True Tales of Madness, Love, and the History of the World from the Periodic Table of the Elements (Hardcover)\n18                                                                     The Man Who Mistook His Wife for a Hat and Other Clinical Tales (Paperback)\n19                                                                                Guns, Germs, and Steel: The Fates of Human Societies (Paperback)\n20                                                                                                                    The Grand Design (Hardcover)\n21                                                                              The Greatest Show on Earth: The Evidence for Evolution (Hardcover)\n22                                                                                                      Seven Brief Lessons on Physics (Hardcover)\n23                                                                   The Fabric of the Cosmos: Space, Time, and the Texture of Reality (Paperback)\n24                                                                                                        Homo Deus: A History of Tomorrow (ebook)\n25                                                                                                  Brief Answers to the Big Questions (Hardcover)\n26                                                                                                                    The God Delusion (Hardcover)\n27                                                                                             The Structure of Scientific Revolutions (Paperback)\n28                                                             I Contain Multitudes: The Microbes Within Us and a Grander View of Life (Hardcover)\n29                                                                                                     The Body: A Guide for Occupants (Hardcover)\n30                                                                                                         Chaos: Making a New Science (Paperback)\n31                                                                           Packing for Mars: The Curious Science of Life in the Void (Paperback)\n32                                                                                        Gödel, Escher, Bach: An Eternal Golden Braid (Paperback)\n33                                                                                Pale Blue Dot: A Vision of the Human Future in Space (Paperback)\n34                                                                                                          The Universe in a Nutshell (Hardcover)\n35                                               The Blind Watchmaker: Why the Evidence of Evolution Reveals a Universe Without Design (Paperback)\n36                                     The Hidden Life of Trees: What They Feel, How They Communicate: Discoveries from a Secret World (Hardcover)\n37                                                                                 Behave: The Biology of Humans at Our Best and Worst (Hardcover)\n38                                                                                                                         Bad Science (Paperback)\n39                                                                                                           Physics of the Impossible (Hardcover)\n40                                                                   The Rise and Fall of the Dinosaurs: A New History of a Lost World (Hardcover)\n41                                                     Entangled Life: How Fungi Make Our Worlds, Change Our Minds & Shape Our Futures (Hardcover)\n42                                                                                    Death by Black Hole: And Other Cosmic Quandaries (Paperback)\n43                                                                               Genome: The Autobiography of a Species in 23 Chapters (Paperback)\n44                                                                                                                   The Order of Time (Hardcover)\n45                                                      Six Easy Pieces: Essentials of Physics Explained by Its Most Brilliant Teacher (Paperback)\n46                                                                 A Universe from Nothing: Why There Is Something Rather Than Nothing (Hardcover)\n47                                                      Your Inner Fish: a Journey into the 3.5-Billion-Year History of the Human Body (Hardcover)\n48                                                           The Hot Zone: The Terrifying True Story of the Origins of the Ebola Virus (Paperback)\n49                                                                                       Bonk: The Curious Coupling of Science and Sex (Paperback)\n50                                   Longitude: The True Story of a Lone Genius Who Solved the Greatest Scientific Problem of His Time (Hardcover)\n                  Author\n1            Bill Bryson\n2        Richard Dawkins\n3    Neil deGrasse Tyson\n4      Yuval Noah Harari\n5             Carl Sagan\n6         Rebecca Skloot\n7         Randall Munroe\n8         Charles Darwin\n9           Brian Greene\n10            Carl Sagan\n11            Mary Roach\n12    Richard P. Feynman\n13        Matthew Walker\n14  Siddhartha Mukherjee\n15  Siddhartha Mukherjee\n16     Elizabeth Kolbert\n17              Sam Kean\n18          Oliver Sacks\n19         Jared Diamond\n20       Stephen Hawking\n21       Richard Dawkins\n22         Carlo Rovelli\n23          Brian Greene\n24     Yuval Noah Harari\n25       Stephen Hawking\n26       Richard Dawkins\n27        Thomas S. Kuhn\n28               Ed Yong\n29           Bill Bryson\n30          James Gleick\n31            Mary Roach\n32 Douglas R. Hofstadter\n33            Carl Sagan\n34       Stephen Hawking\n35       Richard Dawkins\n36       Peter Wohlleben\n37    Robert M. Sapolsky\n38          Ben Goldacre\n39           Michio Kaku\n40        Steve Brusatte\n41      Merlin Sheldrake\n42   Neil deGrasse Tyson\n43           Matt Ridley\n44         Carlo Rovelli\n45    Richard P. Feynman\n46    Lawrence M. Krauss\n47           Neil Shubin\n48     Richard   Preston\n49            Mary Roach\n50            Dava Sobel\n                                                                                                                                Info\n1    \\n                  avg rating 4.22 —\\n                  407,535 ratings  —\\n                  published 2003\\n                \n2    \\n                  avg rating 4.16 —\\n                  187,031 ratings  —\\n                  published 1976\\n                \n3    \\n                  avg rating 4.08 —\\n                  195,986 ratings  —\\n                  published 2017\\n                \n4  \\n                  avg rating 4.35 —\\n                  1,168,557 ratings  —\\n                  published 2011\\n                \n5    \\n                  avg rating 4.40 —\\n                  153,771 ratings  —\\n                  published 1980\\n                \n6    \\n                  avg rating 4.13 —\\n                  775,348 ratings  —\\n                  published 2010\\n                \n7    \\n                  avg rating 4.14 —\\n                  188,324 ratings  —\\n                  published 2014\\n                \n8    \\n                  avg rating 4.01 —\\n                  119,116 ratings  —\\n                  published 1859\\n                \n9    \\n                  avg rating 4.10 —\\n                  100,287 ratings  —\\n                  published 1999\\n                \n10    \\n                  avg rating 4.29 —\\n                  77,237 ratings  —\\n                  published 1995\\n                \n11   \\n                  avg rating 4.06 —\\n                  231,078 ratings  —\\n                  published 2003\\n                \n12   \\n                  avg rating 4.27 —\\n                  210,509 ratings  —\\n                  published 1985\\n                \n13   \\n                  avg rating 4.38 —\\n                  210,037 ratings  —\\n                  published 2017\\n                \n14    \\n                  avg rating 4.36 —\\n                  52,981 ratings  —\\n                  published 2016\\n                \n15   \\n                  avg rating 4.34 —\\n                  109,260 ratings  —\\n                  published 2010\\n                \n16    \\n                  avg rating 4.16 —\\n                  76,010 ratings  —\\n                  published 2014\\n                \n17    \\n                  avg rating 3.93 —\\n                  54,009 ratings  —\\n                  published 2010\\n                \n18   \\n                  avg rating 4.05 —\\n                  236,212 ratings  —\\n                  published 1985\\n                \n19   \\n                  avg rating 4.04 —\\n                  438,255 ratings  —\\n                  published 1997\\n                \n20    \\n                  avg rating 4.06 —\\n                  75,945 ratings  —\\n                  published 2010\\n                \n21    \\n                  avg rating 4.16 —\\n                  55,086 ratings  —\\n                  published 2009\\n                \n22    \\n                  avg rating 3.99 —\\n                  63,098 ratings  —\\n                  published 2014\\n                \n23    \\n                  avg rating 4.13 —\\n                  39,676 ratings  —\\n                  published 2004\\n                \n24   \\n                  avg rating 4.19 —\\n                  273,715 ratings  —\\n                  published 2015\\n                \n25    \\n                  avg rating 4.27 —\\n                  82,164 ratings  —\\n                  published 2018\\n                \n26   \\n                  avg rating 3.90 —\\n                  277,060 ratings  —\\n                  published 2006\\n                \n27    \\n                  avg rating 4.03 —\\n                  28,670 ratings  —\\n                  published 1962\\n                \n28    \\n                  avg rating 4.18 —\\n                  29,489 ratings  —\\n                  published 2016\\n                \n29    \\n                  avg rating 4.32 —\\n                  92,736 ratings  —\\n                  published 2019\\n                \n30    \\n                  avg rating 4.04 —\\n                  39,810 ratings  —\\n                  published 1987\\n                \n31    \\n                  avg rating 3.95 —\\n                  59,009 ratings  —\\n                  published 2010\\n                \n32    \\n                  avg rating 4.29 —\\n                  51,144 ratings  —\\n                  published 1979\\n                \n33    \\n                  avg rating 4.34 —\\n                  38,264 ratings  —\\n                  published 1994\\n                \n34    \\n                  avg rating 4.19 —\\n                  44,261 ratings  —\\n                  published 2001\\n                \n35    \\n                  avg rating 4.09 —\\n                  40,760 ratings  —\\n                  published 1986\\n                \n36    \\n                  avg rating 4.07 —\\n                  82,665 ratings  —\\n                  published 2015\\n                \n37    \\n                  avg rating 4.40 —\\n                  28,168 ratings  —\\n                  published 2017\\n                \n38    \\n                  avg rating 4.06 —\\n                  44,114 ratings  —\\n                  published 2008\\n                \n39    \\n                  avg rating 4.10 —\\n                  40,702 ratings  —\\n                  published 2008\\n                \n40    \\n                  avg rating 4.21 —\\n                  36,920 ratings  —\\n                  published 2018\\n                \n41    \\n                  avg rating 4.34 —\\n                  44,913 ratings  —\\n                  published 2020\\n                \n42    \\n                  avg rating 4.10 —\\n                  31,649 ratings  —\\n                  published 2006\\n                \n43    \\n                  avg rating 4.06 —\\n                  27,448 ratings  —\\n                  published 1999\\n                \n44    \\n                  avg rating 4.13 —\\n                  35,548 ratings  —\\n                  published 2017\\n                \n45    \\n                  avg rating 4.21 —\\n                  29,605 ratings  —\\n                  published 1994\\n                \n46    \\n                  avg rating 3.94 —\\n                  30,103 ratings  —\\n                  published 2012\\n                \n47    \\n                  avg rating 4.04 —\\n                  27,664 ratings  —\\n                  published 2008\\n                \n48   \\n                  avg rating 4.16 —\\n                  118,332 ratings  —\\n                  published 1994\\n                \n49    \\n                  avg rating 3.85 —\\n                  59,273 ratings  —\\n                  published 2008\\n                \n50    \\n                  avg rating 3.99 —\\n                  74,237 ratings  —\\n                  published 1995\\n                \n```\n:::\n:::\n\n\n## Seperating Data in Columns\n\nWe will need some help of `regex` (short for regular expression) -- a powerful way to search, match, and extract patterns in text. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks <- books %>%\n  mutate(\n    # Remove newlines and trim spaces\n    Info = str_squish(Info),\n    \n    # Extract each piece using regex\n    avg_rating = str_extract(Info, \"(?<=avg rating )\\\\d+\\\\.\\\\d+\"),   \n    num_ratings = str_extract(Info, \"\\\\d{1,3}(,\\\\d{3})*(?= ratings)\"),  \n    yr_published = str_extract(Info, \"(?<=published )\\\\d{4}\")\n  ) %>% \n  select(-Info)\n```\n:::\n\n\n🌶️ `regex` expressions can be very challenging depending on the complexity of the text you are trying to format. You are encouraged to use Google and/or generative AI to help you come up with the appropriate expressions. Below is a quick guide to some of the basics: \n\n```markdown\n| Pattern | Meaning                                     | Example                          |\n|---------|---------------------------------------------|----------------------------------|\n| `.`     | Any character except newline                | `a.b` matches `acb`, `a2b`       |\n| `\\d`    | Any digit (0–9)                             | `\\d+` matches `2023`, `55`       |\n| `\\w`    | Any word character (letter, number, _)      | `\\w+` matches `hello`, `abc123`  |\n| `\\s`    | Whitespace (space, tab, newline)            | `\\s+` matches spaces/tabs        |\n| `+`     | One or more of the preceding                | `a+` matches `a`, `aa`, `aaa`    |\n| `*`     | Zero or more of the preceding               | `a*` matches ``, `a`, `aa`       |\n| `?`     | Optional (zero or one)                      | `colou?r` matches `color`, `colour` |\n| `^`     | Start of line/string                        | `^The` matches lines starting with `The` |\n| `$`     | End of line/string                          | `end$` matches lines ending with `end` |\n| `[]`    | Match one character inside brackets         | `[aeiou]` matches any vowel      |\n| `[^]`   | Match anything **except** what's in brackets | `[^0-9]` matches non-digits      |\n| `()`    | Grouping for extracting or repeating        | `(\\d{4})` extracts 4-digit numbers |\n| `|`     | OR                                           | `cat|dog` matches `cat` or `dog` |\n| `{n}`   | Exactly n repetitions                       | `\\d{4}` matches exactly four digits |\n```\n\n\n# Formatting Columns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks <- books %>% \n  mutate(\n    num_ratings = str_remove_all(num_ratings, \",\") %>%  as.numeric(),\n    avg_rating = avg_rating %>%  as.numeric(),\n    num_ratings = num_ratings %>%  as.numeric(),\n    yr_published = yr_published %>%  as.numeric()\n  )\n```\n:::\n",
    "supporting": [
      "118_O_webscraping_text_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}