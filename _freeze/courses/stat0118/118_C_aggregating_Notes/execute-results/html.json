{
  "hash": "4af8882f4860dd4d5f9f18bdb27cb0e3",
  "result": {
    "markdown": "---\ntitle: 'Aggregating data'\nauthor: 'Emily Malcolm-White'\nformat:\n  html: \n    toc: TRUE\n    code-overflow: wrap\n    embed-resources: true\n    code-tools:\n      source: true\n      toggle: false\n      caption: none\nexecute: \n  message: FALSE\n  warning: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n#LOAD PACKAGES \nlibrary(tidyverse)\n```\n:::\n\n\n# `palmerpenguins` dataset \n\nSize measurements, clutch observations, and blood isotope ratios for adult foraging Ad√©lie, Chinstrap, and Gentoo penguins observed on islands in the Palmer Archipelago near Palmer Station, Antarctica. Data were collected and made available by Dr. Kristen Gorman and the Palmer Station Long Term Ecological Research (LTER) Program.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#LOAD DATA \nlibrary(palmerpenguins) \ndata(penguins)         \n```\n:::\n\n\n\n# Remove rows with missing data with drop_na()\n\n\n::: {.cell}\n\n:::\n\n\n\n::: callout-warning\nIs it appropriate to remove rows with missing data? How many rows have missing data? Do the missing rows have something in common?\n\nRemoving rows can affect the validity and generalizability of your analysis!\n:::\n\n\n# `count()`\n\n`count()` lets you quickly count the unique values of one or more variables. Suppose you want the number of penguins on each island.  \n\n\n::: {.cell}\n\n:::\n\n\n\n# `summarize()` or `summarise()` (either works)\n\nSuppose we are interested in the average bill length of all Adelie penguins:\n\n\n::: {.cell}\n\n:::\n\n\n\nSuppose we are interested in the average bill length AND average bill depth of all Adelie penguins:\n\n\n::: {.cell}\n\n:::\n\n\nThere are lots of other functions available:\n\n-   `min`: minimum value\n-   `max`: maximum value\n-   `mean`: average or mean value\n-   `median`: median value\n-   `var`: variance\n-   `sd`: standard deviation\n-   `n`: count or number of values\n-   `n_distinct`: counts number of distinct values\n\nSuppose we are interested in the average bill length AND the median bill length of all Adelie penguins:\n\n\n::: {.cell}\n\n:::\n\n\n# `group_by()`\n\nLet's say we were interested in the average bill length and bill depth of all penguin species in this dataset. We could repeat this for the other species (Gentoo and Chinstrap). This would be a fair amount of work AND the results would not end up in the same table.\n\nOR we could use the `group_by` command!\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Multiple Groups\n\nSuppose we wish to have the average bill length and average bill depth broken down by sex AND species:\n\n\n::: {.cell}\n\n:::\n\n\n#  Recall: `mutate()` \n\nFor example, let's calculate create a new column which displays the body length weight in pounds (lbs) instead of grams. Recall: to convert from grams to pounds we need to multiply by 0.00220462\n\n\n::: {.cell}\n\n:::\n\n\n\n# `case_when()`\n\nCase when can be used in combination with `mutate` to create a new column with a categorical variable conditional on the values in another column.\n\nFor example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- penguins %>% \n  mutate(penguin_length_cat = case_when(bill_length_mm > 50 ~ 'whoa! huge bill!', TRUE ~ '--' ))\n```\n:::\n",
    "supporting": [
      "118_C_aggregating_notes_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}