{
  "hash": "40c92dafb70ea969fdeb4aec201f952c",
  "result": {
    "markdown": "---\ntitle: 'line graphs, histograms & boxplots'\nauthor: 'Emily Malcolm-White'\nformat:\n  html: \n    toc: TRUE\n    code-overflow: wrap\n    embed-resources: true\n    code-tools:\n      source: true\n      toggle: false\n      caption: none\n    code-annotations: hover\n  pdf: default\nexecute: \n  message: FALSE\n  warning: FALSE\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n**Recall:** The `mtcars` dataset was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973â€“74 models). It's available inside the `ggplot` package which is already installed. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#load the data\ndata(mtcars)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#code to update `mtcars` dataset so that `am` is treated as a factor rather than a continuous numeric variable\nmtcars <- mtcars %>% \n  mutate(am = as.factor(am))\n```\n:::\n\n\n\n# Histograms\n\n:::callout-tip\nHistograms are great for looking at the distributions of numeric variables\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% \n  ggplot(aes(x=mpg)) +\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-4-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nYou can control the bin size with `binwidth`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% \n  ggplot(aes(x=mpg)) +\n  geom_histogram(binwidth=3)\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-5-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n# Boxplots\n\n:::callout-tip\nBoxplots are good for displaying the spread, central tendency, and distribution of one numeric variable. \n:::\n\n![Credit: Michael Galarnyk](https://miro.medium.com/max/9000/1*2c21SkzJMf3frPXPAR_gZA.png)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% \n  ggplot(aes(y=mpg)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-6-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n:::callout-tip\nSide-by-side boxplots are good for displaying one categorical variable and one numeric variable. One advantage of boxplots over barplots is that they are able to show a bit about the spread and distribution of the numeric variable! \n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>% \n  ggplot(aes(x=am, y=mpg)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-7-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n# Line Graphs\n\n:::callout-tip\nLine graphs are great for showing trends with respect to ordinal (ordered variables). Time is used quite commonly. \n:::\n\nWe consider data on river flow rates collected by volunteers of the Pierce Conservation District in WA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nflow_rates <- read.csv(\"https://www.openintro.org/data/csv/flow_rates.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nflow_rates %>% \n  ggplot(aes(x=date, y=flow, group=site, color=site)) + \n  geom_line() + \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=7)) +\n  labs(x=\"Date\", y=\"Flow Rate\")\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-9-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n:::callout-warning\nWhat happens if we didn't have the `group=` command? \n\n\n::: {.cell}\n\n```{.r .cell-code}\nflow_rates %>% \n  ggplot(aes(x=date, y=flow)) + \n  geom_line() + \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=7))\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-10-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nYikes! \n\nIf there is grouping in the data, you need to either: \n- seperate by group by using the `group=` command\n- Merge together (add? average?) the groups using `summarize()` first before trying to graph\n:::\n\n# Facet Wrap\n\n`facet_wrap()` is a function in the `ggplot2` package that allows you to create a multi-panel plot showing a similar plot over different subsets of the data, usually different values of a categorical variable. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example of Facet Wrap with `flow_rates` dataset\nflow_rates %>% \n  ggplot(aes(x=date, y=flow, group=site, color=site)) + \n  geom_line() + \n  facet_wrap(~site) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size=4))\n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-11-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\nYou can create facets over any categorical variable in the dataset! \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Example of Facet Wrap with `mtcars` dataset\nmtcars %>% \n  mutate(vs=as.factor(vs)) %>% #engine shape 0=v-shaped, 1=manual\n  ggplot(aes(x=vs, y=mpg, fill=am)) +\n  geom_boxplot() + \n  facet_wrap(~am) + \n  theme(legend.position=\"none\") \n```\n\n::: {.cell-output-display}\n![](118_F_ggplot2_files/figure-pdf/unnamed-chunk-12-1.pdf){fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "118_F_ggplot2_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}