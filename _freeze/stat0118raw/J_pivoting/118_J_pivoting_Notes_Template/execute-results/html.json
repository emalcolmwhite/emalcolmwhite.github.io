{
  "hash": "1ffafcd015c83de3d934fdae5f96e9eb",
  "result": {
    "markdown": "---\ntitle: 'STAT 118: Notes J'\nsubtitle: | \n  | `tidyr`: reshaping data with `pivot_longer()` and `pivot_wider()`\n  | ![](https://tidyr.tidyverse.org/logo.png){width=10%}\nformat:\n  html:\n    toc: true\n    code-overflow: wrap\n---\n\n\n\n\n![](https://media.tenor.com/jy6WGzwRKlsAAAAC/ross-pivot-friends.gif)\n\n# Reshaping with Pivoting -- Why? \n\nData frames are often described as wide or long. \n\n*Wide* when a row has more than one observation, and the units of observation are on one row each\n\n*Long* when a row has only one observation, but the units of observation are repeated down the column\n\n![Credit: datasciencebook.ca](https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/pivot_functions.001.jpeg?raw=true)\n\n# `canlang` dataset \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#LOAD PACKAGES\nlibrary(tidyverse)\n\n#LOAD DATA\nlang_wide <- read.csv(\"https://raw.githubusercontent.com/UBC-DSCI/introduction-to-datascience/master/data/region_lang_top5_cities_wide.csv\")\n```\n:::\n\n\n# Pivot Longer\n\n![Credit: datasciencebook.ca](https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/pivot_functions.003.jpeg?raw=true)\n![Credit: datasciencebook.ca](https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/pivot_longer.jpeg?raw=true)\n\n\n::: {.cell}\n\n:::\n\n\n\nThe data above is now tidy because all three criteria for tidy data have now been met:\n\n- All the variables (category, language, region and mother_tongue) are now their own columns in the data frame.\n- Each observation, (i.e., each language in a region) is in a single row.\n- Each value is a single cell, i.e., its row, column position in the data frame is not shared with another value.\n\n# Pivot Wider\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlang_long <- read.csv(\"https://raw.githubusercontent.com/UBC-DSCI/introduction-to-datascience/master/data/region_lang_top5_cities_long.csv\")\n```\n:::\n\n\n\n![Credit: datasciencebook.ca](https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/pivot_functions.004.jpeg?raw=true)\n![Credit: datasciencebook.ca](https://github.com/UBC-DSCI/introduction-to-datascience/blob/main/img/wrangling/pivot_wider.jpeg?raw=true)\n\n\n::: {.cell}\n\n:::\n\n\n# Gapminder\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gapminder)\ndata(\"gapminder\")\n```\n:::\n\n\nLet’s say we’d like to look at `LifeExp` over time for all the countries in Asia in our dataset. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a dataset called asia with the data we need\n```\n:::\n\n\nWe can create a wide version of our table, where each row is a country and each column a year, with values of `lifeExp` in each cell of the table.\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}